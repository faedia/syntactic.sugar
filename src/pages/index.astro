---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import PostPreview from "../components/PostPreview.astro";
const recentPosts = (await getCollection("blog"))
    .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
    .slice(0, 5);
---

<Layout
    title="Home"
    description="A blog about programming languages, compiler design, and implementation. Implementing a language called LoxMocha, based on the book Crafting Interpreters by Robert Nystrom."
>
    <section class="border-2 border-purple-600 p-8 rounded-sm mb-6">
        <h1 class="text-4xl font-extrabold mb-6">About me</h1>
        <p
            class="text-lg text-zinc-700 mb-4 dark:text-zinc-300 transition-colors"
        >
            Hi, I'm Emma! I'm a software engineer fascinated by programming
            languages, compiler design, implementation and their theory. This
            blog will be an account of my tales as I journey through the world
            of programming language theory and compiler construction.
        </p>
        <p
            class="text-lg text-zinc-700 mb-4 dark:text-zinc-300 transition-colors"
        >
            The driving project behind this blog is a project I have called <code
                >LoxMocha</code
            >. This is a language based off of the language <code>Lox</code> from
            the book <a
                href="https://craftinginterpreters.com/"
                title="Crafting Interpreters"
                class="text-purple-600 hover:underline dark:text-purple-500 transition-colors"
            >
                crafting interpreters</a
            > by Robert Nystrom. My goal is to build upon the foundation that was
            laid out in the book and extend it for a more "compiled" world. This
            involes adding features like:
            <ul
                class="list-disc pl-6 text-purple-600 dark:text-purple-500 transition-colors"
            >
                <li>
                    <div
                        class="text-zinc-700 dark:text-zinc-300 transition-colors"
                    >
                        A modern and robust type system, with Damas-Hindley
                        Milner type checking
                    </div>
                </li>
                <li>
                    <div
                        class="text-zinc-700 dark:text-zinc-300 transition-colors"
                    >
                        Global and local optimisations
                    </div>
                </li>
                <li>
                    <div
                        class="text-zinc-700 dark:text-zinc-300 transition-colors"
                    >
                        And importantly, RISC-V code generation
                    </div>
                </li>
            </ul>
        </p>
    </section>

    <section
        class="border-2 border-purple-600 p-8 rounded-sm transition-colors"
    >
        <h2 class="text-2xl font-bold mb-6">Recent Posts</h2>
        <ul>
            {
                recentPosts.map((post) => (
                    <li>
                        <PostPreview post={post} />
                    </li>
                ))
            }
        </ul>
    </section>
</Layout>
